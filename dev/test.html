<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AdefyWebGL Test</title>

  <script type="text/javascript" src="./mjax.min.js"></script>
  <script type="text/javascript" src="./underscore.min.js"></script>
  <script type="text/javascript" src="./cp.min.js"></script>
  <script type="text/javascript" src="./sylvester.js"></script>
  <script type="text/javascript" src="./glUtils.js"></script>
  <script type="text/javascript" src="./awgl.js"></script>
</head>

<body>
  <script>

    window.ajax = microAjax
    var testAd = new AWGLEngine("./adefy-test/", 4, function() {

      var fallBox = [
        -50, -50,
        -50,  50,
         50,  50,
         50, -50,
        -50, -50
      ];

      var groundBox = [
        -50, -50,
        -50,  50,
         50,  50,
         50, -50,
        -50, -50
      ];

      var box = new AWGLActor(fallBox);
      box.setPosition({ x: 100, y: 100 });
      box.setRotation(0);
      box.setColor(255, 0, 0);
      //box.createPhysicsBody(10, 0.3, 0.8);
      startVal = 100;
      endVal = 400;
      degree = 2;
      control = [{ x: 1, y: 0}, { x: 1, y: -516}];
      duration = 2;
      //var animation = new AWGLAnimation(box, startVal, endVal, degree, control, duration);
      //animation.animate();

      var ground = new AWGLActor(groundBox);
      ground.setPosition({ x: 400, y: 400 });
      ground.setRotation(0);
      startPos2 = 0
      endPos2 = 100
      control2 = [];//[{ x: 0, y: 0}, { x: 1, y: 77}];
      duration2 = 2;
      options = {
        endVal: endPos2,
        controlPoints: control2,
        duration: duration2,
        property: ["color", "r"]
      }
      //ground.createPhysicsBody(0, 0.2, 0.8);

      animation = new AWGLBezAnimation(ground, options);
      animation.animate();

      options = {
        endVal: endPos2,
        controlPoints: control2,
        duration: duration2,
        property: ["position", "x"]
      }
      animation = new AWGLBezAnimation(ground, options);
      animation.animate();

      options = {
        endVal: endPos2,
        controlPoints: control2,
        duration: duration2,
        property: "rotation"
      }
      animation = new AWGLBezAnimation(ground, options);
      animation.animate();

    });

  </script>
</body>
</html>
